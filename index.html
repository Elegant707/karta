<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Карта</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      color: white;
      text-align: center;
      height: 100%;
    }
    .page {
      display: none;
      height: 100vh;
      width: 100vw;
      background-size: cover;
      background-position: center;
      position: relative;
      overflow: hidden;
    }
    #main {
      display: block;
      background-image: url("https://i.postimg.cc/xd2J5jvV/mollygram-com-Instagram-Post-mmoooorrii-3147686381845066308-12362718528.jpg");
    }
    .floating {
      position: absolute;
      animation: float 6s ease-in-out infinite;
    }
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
      100% { transform: translateY(0px); }
    }
    .card {
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 250px;
      cursor: pointer;
    }
    .click-text {
      position: absolute;
      top: 28%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 28px;
      font-weight: bold;
      animation: glow 3s infinite alternate;
    }
    @keyframes glow {
      0% { color: #ffcccc; }
      50% { color: #ff3333; }
      100% { color: #ffffff; }
    }
    .extra-img {
      width: 200px;
    }
    .caption {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 5px;
    }
    .bottom-left {
      position: absolute;
      bottom: 10%;
      left: 20%;
      transform: translateX(-50%);
    }
    .bottom-right {
      position: absolute;
      bottom: 10%;
      right: 20%;
      transform: translateX(50%);
    }
    /* Регистрация */
    #register {
      background: black;
      padding-top: 20px;
    }
    #register h1 {
      margin-bottom: 20px;
      font-size: 20px;
      color: #ffcc66;
    }
    .form-container {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 40px;
    }
    form {
      text-align: left;
    }
    label {
      display: block;
      margin: 10px 0 5px;
    }
    input {
      padding: 5px;
      width: 200px;
    }
    button {
      margin-top: 15px;
      padding: 10px 20px;
      border: none;
      background: #ff3333;
      color: white;
      cursor: pointer;
      border-radius: 6px;
    }
    button:hover {
      background: #cc0000;
    }
    .side-img {
      width: 250px;
      margin-top: 40px;
    }
    /* Дверь */
    #doorPage {
      background: black;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #door {
      width: 300px;
      cursor: pointer;
      animation: float 5s infinite;
    }
    /* Ошибка */
    .error-text {
      position: absolute;
      font-size: 40px;
      font-weight: bold;
      color: red;
      animation: flicker 0.2s infinite alternate;
      pointer-events: none;
    }
    @keyframes flicker {
      from { opacity: 1; }
      to { opacity: 0.2; }
    }
  </style>
</head>
<body>

  <!-- Главная -->
  <div id="main" class="page">
    <div class="click-text">Нажми на меня</div>
    <img src="https://i.postimg.cc/WzHqwMn5/photo-2025-08-28-02-45-21.jpg" class="floating card" onclick="showPage('register')">
    
    <div class="bottom-left floating">
      <div class="caption">Семён Лобанов одобряет</div>
      <img src="https://i.postimg.cc/VkgvqxFK/image.png" class="extra-img">
    </div>
    <div class="bottom-right floating">
      <div class="caption">Клиенты довольны</div>
      <img src="https://i.postimg.cc/G3PCTkKQ/image.png" class="extra-img">
    </div>
  </div>

  <!-- Регистрация -->
  <div id="register" class="page">
    <h1>Сайт держится исключительно на бюджете в виде тарелки карбонары</h1>
    <div class="form-container">
      <form id="regForm">
        <label>Имя:</label>
        <input type="text" id="fname" required>
        <label>Фамилия:</label>
        <input type="text" id="lname" required>
        <label>Год рождения:</label>
        <input type="number" id="year" required min="1900" max="2025">
        <label>Данные карточки:</label>
        <input type="text" id="card" required pattern="[0-9]{4}-[0-9]{4}">
        <br>
        <button type="submit">Заказать карту</button>
        <button type="button" onclick="showPage('main')">Вернуться назад</button>
      </form>
      <img src="https://i.postimg.cc/66f704zW/image.png" class="side-img floating">
    </div>
  </div>

  <!-- Дверь -->
  <div id="doorPage" class="page">
    <img id="door" src="https://i.postimg.cc/Y2FcKQT7/Pngtree-wooden-doors-5610503.png" onclick="showError()">
  </div>

  <script>
    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
      document.getElementById(pageId).style.display = 'block';
    }

    document.getElementById("regForm").addEventListener("submit", function(e){
      e.preventDefault();
      const fname = document.getElementById("fname").value.trim();
      const lname = document.getElementById("lname").value.trim();
      const year = document.getElementById("year").value;
      const card = document.getElementById("card").value;

      if(fname && lname && year && card.match(/[0-9]{4}-[0-9]{4}/)) {
        showPage('doorPage');
      } else {
        alert("Пожалуйста, заполните все поля корректно!");
      }
    });

    function showError() {
      setInterval(() => {
        const error = document.createElement("div");
        error.className = "error-text";
        error.textContent = "ERROR 404";
        error.style.top = Math.random() * window.innerHeight + "px";
        error.style.left = Math.random() * window.innerWidth + "px";
        document.getElementById("doorPage").appendChild(error);

        setTimeout(() => {
          error.remove();
        }, 500);
      }, 100);
    }
  </script>
</body>
</html>
